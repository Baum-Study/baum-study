## 온프레미스에서 로드밸런서를 제공하는 MetalLB

MetalLB는 온프레미스 환경에서 로드밸런서를 제공하기 위한 도구로 사용자는 설정 파일을 통해 로드밸런서를 구성할 수 있습니다.   
일반적으로 L2, L3 로드밸런서로 사용되며 클러스터 외부에서 클러스터 내부로 접근하는 트래픽을 분산시키는 역할을 합니다.  

## 부하에 따라 자동으로 파드 수를 조절하는 HPA

HPA는 Horizontal Pod Autoscaler의 약자로 파드의 수를 자동으로 조절하는 기능을 제공합니다.  
부하량에 따라 자동으로 파드의 수를 조절해서 사용자가 설정한 부하량을 유지할 수 있습니다.    
부하량을 측정하는 방법은 CPU 사용량, 메모리 사용량, 커스텀 메트릭 등 다양한 방법을 사용할 수 있습니다.  

# 알아두면 쓸모 있는 쿠버네티스 오브젝트

## 데몬셋

디플로이먼트의 replicas가 노드 수 만큼 생성되는 것과 달리 데몬셋은 노드 당 하나의 파드만 생성됩니다.  
데몬셋은 노드의 단일 접속 지점으로 외부와 통신할 때 사용합니다.  
그렇기에 노드를 관리하는 파드는 데몬셋으로 만드는게 효율적입니다.  

## 컨피그맵

컨피그맵은 설정을 목표로 사용하는 오브젝트로 설정 파일을 파드에 전달할 때 사용합니다.  

## PV, PVC

PV는 Persistent Volume의 약자로 클러스터 내부에 있는 스토리지를 의미합니다.  
PVC는 Persistent Volume Claim의 약자로 PV를 요청하는 오브젝트입니다.  
PV는 볼륨을 사용할 수 있게 준비하는 단계이고 PVC는 볼륨에서 일정 공간을 할당받는 것입니다.

## 스테이트풀셋

스테이트풀셋은 파드의 생성 순서를 지정해야 할 때 사용합니다.  
예를 들어 Spring Boot Server가 켜지기 전에 DB나 Redis처럼 먼저 켜져야 할 서비스가 있을 때 사용합니다.  
각 파드가 순서대로 생성되기 때문에 고정된 이름, 볼륨, 설정등을 가질 수 있습니다.  
하지만 효율성면에서 디플로이먼트보다 느리기 때문에 상황에 맞게 사용해야 합니다.