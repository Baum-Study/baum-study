# 운영체제

운영체제는 실행할 프로그램에 필요한 자원을 할당하고, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램입니다.  
운영체제 역시 실행되고 있는 프로그램이므로 메모리에 적재되어서 실행됩니다.
</br>

![img](../image/정현주-image1.jpg)

메모리는 크게 커널 영역과 사용자 영역으로 나뉘며, 운영체제는 커널 영역에 적재됩니다.  
또한 일반적인 프로그램들은 사용자 영역에 적재됩니다.
</br>
</br>
이때 응용 프로그램을 메모리에 적재시키는 역할을 하는 것이 운영체제입니다.

![img](../image/정현주-image2.jpg)

위와 같이 운영체제는 비어있는 공간에 프로그램을 적재하고, 사용되지 않는 프로그램을 삭제하는 역할을 합니다.
</br>
</br>
또한 운영체제는 메모리뿐만 아니라 CPU도 관리를 해줍니다.

![img](../image/정현주-image3.jpg)

CPU는 보통 여러 개의 프로그램을 빠르게 번갈아가며 동시에 실행을 하게 되는데, 무엇이 먼저 실행될지, 무엇이 오랫동안 CPU를 점유해서 실행될지도 운영체제가 관리하게 됩니다.
</br>
</br>
이 밖에도 입출력장치나 보조기억장치 등도 운영체제가 관리합니다.
</br>
</br>
즉, 운영체제는 응용 프로그램과 하드웨어 사이에서 연결 다리와 같은 역할을 하는 프로그램이라 볼 수 있습니다.

![img](../image/정현주-image4.jpg)

</br>
</br>
이러한 운영체제 없이 프로그램을 개발한다는 것은 하드웨어를 직접 접근하고 조작하는 코드를 개발자가 일일이 직접 만들어야 된다는 것과 같습니다.  
또한 운영체제를 깊이 이해하게 되면 오류 메시지에 대한 문제 해결력도 높아지기 때문에 운영체제에 대해서 자세히 알아야 할 필요가 있습니다.
</br>
</br>

## 1. 커널
운영체제의 핵심 기능을 담당하는 부분입니다.

![img](../image/정현주-image5.jpg)

커널은 운영체제의 심장이라고 볼 수 있으며, 보통 운영체제라 함은 커널을 설명하기도 합니다.  
단, 유저 인터페이스는 단순히 사용자와 컴퓨터 간의 통로일 뿐이므로 운영체제에는 속하지만 커널에는 속하지 않습니다.
</br>
</br>
</br>
## 2. 이중 모드
일반적인 응용 프로그램이 자원에 직접 접근하는 것은 위험하기 때문에 직접적으로 접근할 수 없습니다.
</br>
</br>
때문에 운영체제는 응용 프로그램들이 자원에 접근할 때 오직 자신을 통해서만 접근하도록 해서 자원을 보호합니다. 즉, 운영체제의 코드를 실행한다고 볼 수 있습니다.

![img](../image/정현주-image6.jpg)

</br>
여기서 이중 모드란 CPU가 명령어를 실행하는 모드를 사용자 모드와 커널 모드로 구분하는 방식입니다.
</br>

* #### 사용자 모드
  - 운영체제 서비스를 제공받을 수 없는 실행 모드  
  - 커널 영역의 코드를 실행할 수 없는 실행 모드  
  - 자원 접근 불가
* #### 커널 모드
  - 운영체제의 서비스를 제공받을 수 있는 실행 모드  
  - 자원 접근을 비롯한 모든 명령어 실행 가능
</br>
</br>
이러한 이중 모드는 플래그 레지스터 내의 슈퍼바이저 플래그로 커널 모드로 실행 중인지, 사용자 모드로 실행 중인지를 알 수 있습니다.
</br>
</br>
</br>

## 3. 시스템 호출
시스템 호출은 운영체제 서비스를 제공받기 위해 커널 모드로 전환하는 방법입니다.
</br>
</br>
시스템 콜은 일종의 소프트웨어 인터럽트이므로, 시스템 호출이 처리되는 방식은 하드웨어 인터럽트 처리 방식과 유사합니다.

![img](../image/정현주-image7.jpg)

</br>
일반적으로 실행하는 프로그램은 자원에 빈번하게 접근하기 때문에 시스템 호출을 자주 하게 되어 아래와 같은 실행 흐름을 나타냅니다.

![img](../image/정현주-image8.jpg)

</br>
</br>

## 4. 핵심 서비스
* #### 프로세스 관리
* #### 자원 접근 및 할당
  - CPU 스케줄링  
  - 메모리 (페이징, 스와핑)  
  - 입출력장치  
* #### 파일 시스템 관리
