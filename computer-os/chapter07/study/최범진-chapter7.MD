# 다양한 보조기억장치

## 하드디스크

- **하드디스크는 자기적인 방식으로 데이터를 저장**
- **자기 디스크의 일종으로 지칭하기도 함**
- **플래터**
    - 원판 형태의 자기 물질로 뒤덮여 있고 N극과 S극을 저장하는 역할, 0과 1의 역할 수행
    - 트랙과 섹터라는 단위로 데이터를 저장
        - **트랙**: 플래터를 여러 동심원으로 나눴을 때 그중 하나의 원
        - **섹터**: 트랙을 여러 조각으로 나누었을 때 생기는 한 조각
    - **실린더**
        - 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위
        - 연속된 정보는 보통 한 실린더에 기록
- **스핀들**
    - 플래터를 회전시키는 구성 요소
    - 스핀들이 플래터를 돌리는 속도를 분당 회전수 RPM이라는 단위로 표현
- **헤드**
    - 플래터 위에서 미세하게 떠서 데이터를 읽고 쓰는 바늘같이 생긴 부품
    - 원하는 위치로 헤드를 이동시키는 디스크 암에 부착되어 있음
- **하드디스크의 데이터 접근 시간**
    - **탐색 시간**: 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
    - **회전 지연**: 헤드가 있는 곳으로 플래터를 회전시키는 시간
    - **전송 시간**: 하드 디스크와 컴퓨터 간에 데이터를 전송하는 시간

## 플래시 메모리

- **플래시 메모리는 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치이다.**
- 덮어쓰기가 불가능하다.
- **NAND 플래시 메모리**
    - NAND 연산을 수행하는 회로 기반
    - 대용량 저장장치로 많이 사용
- **NOR 플래시 메모리**
    - NOR 연산을 수행하는 회로 기반
- **셀**
    - 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
    - SLC 타입(1비트), MLC 타입(2비트), TLC(3비트), QLC(4비트)
- **페이지**
    - 셀들이 모여 만들어진 단위
    - 읽기와 쓰기가 이루어지는 단위
    - 상태
        - **Free 상태**: 어떠한 데이터도 저장하지 않아 새로운 데이터를 저장할 수 있는 상태
        - **Valid 상태**: 이미 유효한 데이터를 저장하고 있는 상태, 새 데이터를 저장할 수 없다
            - 가비지 컬렉션을 제공해 메모리 쓰레기값을 정리한다.
        - **Invalid 상태**: 쓰레기값이라 부르는 유효하지 않은 데이터를 저장하고 있는 상태
- **블록**
    - 페이지가 모여 만들어진 단위
    - 삭제가 이루어지는 단위
- **플레인**
    - 블록이 모인 단위
- **다이**
    - 플레인이 모인 단위
- **플래시 메모리의 수명**
    - 한 셀에 일정 횟수 이상 데이터를 쓰고 지우면 그 셀은 더 이상 데이터를 저장할 수 없다.

### SLC 타입

- 한 셀로 두 개의 정보를 표현 가능
- MLC나 TLC 타입에 비해 데이터가 하나이기 때문에 비트의 빠른 입출력 가능
- 수명도 MLC나 TLC보다 높다
- 용량 대비 가격이 높다
- 데이터를 읽고 쓰기가 매우 많이 반복되며 고성능의 빠른 저장 장치가 필요한 경우 사용

### MLC 타입

- 한 셀로 네 개의 정보 표현 가능
- 한 셀에 두 비트씩 저장 가능하다는 점에서 SLC 타입보다 대용량화가 유리하다.
- SLC 대비 가격이 저렴
- 시중에서 많이 사용되는 플래시 메모리 저장장치들이 MLC 타입 또는 TLC 타입으로 만들어진다.

### TLC 타입

- 한 셀로 여덟 개의 정보를 표현 가능
- 대용량화 유리
- 상대적으로 SLC, MLC에 비해 수명과 속도가 떨어짐
- 용량 대비 가격 저렴

|  | SLC (Single Level Cell) | MLC (Multi Level Cell) | TLC (Triple Level Cell) | 비고 |
| --- | --- | --- | --- | --- |
| 저장된 비트 수 | 셀 하나에 비트 1개 기록 | 셀 하나에 2개 비트 기록 | 셀 하나에 3개 비트 기록 |  |
| 안정성 | 상대적으로 높은 안정성 |  | 상대적으로 낮은 안정성 | 상대적인 차이일 뿐. 최근에는 기술의 발전으로 TLC라도 큰 이슈 없음 |
| 수명 | 상대적으로 김 |  | 상대적으로 짧음 | 하지만 큰 의미 없음. TLC도 매일 24시간 사용해도 10년 사용 |
| 속도 | 빠름 |  | 느림 |  |
| 제작단가 | 높음 |  | 낮음 | 최근에는 높은 제작단가로 인해 SLC가 거의 출시되지 않음 |

# RAID의 정의와 종류

## RAID

독립적인 보조기억장치를 하나처럼 엮어서 사용하는 기술로, 데이터의 안전성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술

## RAID의 종류

### RAID 0

- **RAID 0**은 여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식
- 각 하드디스크는 번갈아 가며 데이터를 저장한다. 즉, 저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장된다.
- 분산되어 저장된 데이터를 스트라입이라 하고, 분산하여 저장하는 것을 스트라이핑이라고 한다.
- 여러 번에 걸쳐 읽고 썼을 데이터를 동시에 읽고 쓸 수 있어 데이터 저장 속도가 빨라지나, 구성된 하드디스크 중 하나에 문제가 생긴다면 다른 모든 하드디스크의 정보를 읽는 데 문제가 생길 수 있다.

### RAID 1

- **RAID 1**은 복사본을 만드는 방식으로, 미러링이라고도 부른다.
- 데이터를 쓸 때 원본과 복사본 두 군데에 쓴다.
- 미러링 되어있는 데이터가 존재하기 때문에 복구가 간단하다.
- 하드디스크 개수가 한정되어 있을 때 사용 가능한 용량이 적어지는 단점이 있다. 그로 인해 비용이 증가하는 단점이 있다.

### RAID 4

- 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식이다.
- 오류를 검출하고 복구하기 위한 패리티 비트를 저장한다.
- 패리티를 저장한 장치를 이용해 다른 장치의 오류를 검출하고, 복구한다.
- 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로 패리티를 저장하는 장치에 병목 현상이 발생한다는 문제가 있다.

### RAID 5

- 패리티 정보를 각 저장장치에 분산하여 저장하는 방식으로 RAID 4의 문제인 병목 현상을 해소했다.

### RAID 6

- **RAID 6**의 구성은 기본적으로 RAID 5와 같으나 서로 다른 두 개의 패리티를 두는 방식이다.
- 오류를 검출하고 복구할 수 있는 수단이 두 개가 생긴 셈이다. 따라서 RAID 6는 RAID 5, RAID 4에 비해 안전한 구성을 가지고 있지만 쓰기 속도가 상대적으로 느리다.
- 데이터 저장 속도를 조금 희생하더라도 데이터를 더욱 안전하게 보관하고 싶을 때 사용하는 방식이다.

### RAID 타입별 성능 비교

| RAID 구성 | RAID 0 | RAID 1 | RAID 5 | RAID 6 | RAID 10 | RAID 50 | RAID 60 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 최소 디스크 수 | 2 | 2 | 3 | 4 | 4 | 6 | 8 |
| 내고장성 | 없음 | 1개 디스크 | 1개 디스크 | 2개 디스크 | 서브 어레이 당 1개 디스크 | 서브 어레이 당 1개 디스크 | 서브 어레이 당 1개 디스크 |
| 읽기 성능(정상) | 높음 | 높음 | 높음 | 높음 | 높음 | 높음 | 높음 |
| 쓰기 성능(정상) | 높음 | 중간 | 낮음 | 낮음 | 중간 | 중간 | 중간 |
| 읽기 성능(장애) | N/A | 중간 | 낮음 | 낮음 | 높음 | 중간 | 중간 |
| 쓰기 성능(장애) | N/A | 높음 | 낮음 | 낮음 | 높음 | 중간 | 낮음 |
| 디스크 공간활용률 | 100% | 50% | 67 ~ 94% | 50 ~ 88% | 50% | 67 ~ 94% | 50 ~ 88% |
| 비고 | 고성능을 요구하는 실시간 렌더링 데이터나 로그와 같은 임시 저장 성격의 데이터에 적합 | 주로 운영 체제에 드라이브에 사용 | 고성능을 요하지 않는 데이터베이스나 웹 서비스 등에 적합 | 데이터 저장(아카이빙) 및 백업 데이터에 적합 | 고성능을 요하는 데이터베이스나 애플리케이션 서버 데이터에 적합 | 비교적 큰 용량을 요하는 데이터베이스, 파일 서버 및 애플리케이션 서버 데이터에 적합 | 데이터 저장(아카이빙) 및 백업 데이터에 적합 |
