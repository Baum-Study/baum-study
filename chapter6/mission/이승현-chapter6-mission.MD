# 동적 메모리

### 개념

- 런타임에 메모리를 할당되며 메모리의 크기와 위치는 프로그램 필요에 따라 동적으로 결정됨
- 주로 힙 메모리를 사용
- 필요할 때 메모리 할당하고 사용이 끝날 경우 해제

### 장점

- 필요한 만큼만 메모리를 사용해서 메모리 낭비를 줄일 수 있음
- 프로그램이 실행 중에 필요한 만큼 메모리를 할당할 수 있음

### 단점

- 개발자가 메모리를 할당하고 해제해야함 → 관리 문제 → 메모리 누수 발생 가능성 있음

# 정적 메모리

### 개념

- 컴파일 타임에 메모리가 할당되어서  프로그램 실행 내내 고정된 상태로 유지되고 프로그램 종료 시 자동 해제됨
- 주로 스택 메모리를 사용
- 메모리 할당부터 해제가 될 때까지 보존됨

### 장점

- 메모리 할당이 컴파일 타임에 이루어져 실행 속도가 빠름
- 개발자의 메모리 관리 부담 적어짐

### 단점

- 프로그램 실행 중에는 메모리 크기를 변경할 수 없음
- 필요한 양보다 더 많은 메모리를 할당할 경우 낭비가 발생할 수 있음

```java
public static void main(String[] args) {

//정적 메모리 할당

int[] staticArray = {1, 2, 3, 4, 5};

int staticNum = 10;

//동적 메모리 할당

Scanner scanner = new Scanner(System.in);

int size = scanner.nextInt();

int[] dynamicArray = new int[size];

ArrayList<Integer> list = new ArrayList<>();
for (int i = 0; i < 10; i++) {
list.add(i * 2);
}

}
```

# 메모리 영역

```
|------------------------------|
|          코드 영역           | <- 프로그램의 코드 저장
|------------------------------|
|         데이터 영역          | <- 전역 변수, 정적 변수 저장
|------------------------------|
|          힙 영역             | <- 동적 메모리 할당
|------------------------------|
|                              |
|          (빈 공간)           |
|                              |
|------------------------------|
|         스택 영역            | <- 함수 호출 스택 프레임
|------------------------------|
```

- 코드 영역 : 실행할 프로그램의 코드를 저장. CPU 가 이를 읽어 실행
- 데이터 영역 : 전역 변수, 정적 변수 저장. 프로그램 전체에서 사용되는 데이터 저장.
- 힙 영역 : 동적으로 할당된 메모리가 저장되는 곳. 런타임에 필요에 따라 동적 메모리 할당 해제가 이루어짐. 가비지 컬렉터에 의해 관리
- 스택 영역 : 정적으로 할당된 메모리가 저장되는 곳. 자동으로 메모리가 해제 됨
